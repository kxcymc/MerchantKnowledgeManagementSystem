PORT=3001
# 跨域请求 (替换成你的前端页面port，后端port3001)
ALLOW_ORIGINS=http://localhost:5173,http://localhost:3001

# Aliyun DashScope API key (用于 embedding 和 OCR)
# 获取方式：https://dashscope.console.aliyun.com/apiKey
DASHSCOPE_API_KEY=替换成你的API Key

# 阿里云 OCR API Key（可选，如果不配置则使用 DASHSCOPE_API_KEY）
# ALIYUN_OCR_API_KEY=替换成你的API

# Optional: RabbitMQ connection (set only if queue processing is enabled)
RABBIT_URL=amqp://localhost
QUEUE_NAME=kb_ingest

# Storage paths (override if needed)
UPLOAD_DIR=./uploads

# Upload limits
MAX_UPLOAD_FILES=20  # 批量上传最大文件数
MAX_FILE_SIZE=26214400  # 单个文件最大大小（字节，默认25MB）

# ==================== 向量存储配置 ====================
# 存储模式选择: 'json' | 'persistent' | 'server'
# - json: JSON 文件存储（无需额外服务，最简单）
# - persistent: Chroma 本地文件存储（无需服务器，但需要 PersistentClient 支持）
# - server: Chroma 服务器模式（需要启动 Chroma 服务器，推荐生产环境）
# 默认: server
VECTOR_STORE_MODE=server

# JSON 存储配置（当 VECTOR_STORE_MODE=json 时使用）
VECTOR_STORE_PATH=./data/vector-store.json

# Chroma 配置（当 VECTOR_STORE_MODE=persistent 或 server 时使用）
# 模式选择: 'persistent' (本地文件) | 'server' (服务器)
CHROMA_MODE=server

# Chroma 服务器配置（当 CHROMA_MODE=server 时）
CHROMA_HOST=localhost
CHROMA_PORT=8000

# Chroma 本地文件存储配置（当 CHROMA_MODE=persistent 时）
# 注意：persistent 模式也需要启动服务器（使用 docker-compose.persistent.yml）
# 默认使用端口 8001，数据存储在 CHROMA_DB_PATH
CHROMA_DB_PATH=./data/chroma_db
# persistent 模式的服务器端口（可选，默认 8001）
# CHROMA_PORT=8001

# Chroma 集合名称（两种模式共用）
CHROMA_COLLECTION_NAME=kb_documents

# ==================== MySQL 数据库配置 ====================
MYSQL_HOST=localhost
MYSQL_PORT=3306
MYSQL_USER=KBase
MYSQL_PASSWORD=123456
MYSQL_DATABASE=kb_database
